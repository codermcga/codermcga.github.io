---
title: æ­å»ºåŸºäºMJçš„AIç»˜ç”»æœºå™¨äºº
author: chris
date: 2023-06-21 00:30:00 +0800
categories: [ç¯å¢ƒæ­å»º, æœåŠ¡]
tags: [AI]
math: true
mermaid: true
image:
  path: https://s2.loli.net/2023/06/06/b76hw5vZglfCMVk.jpg
  lqip: data:image/webp;base64
  alt: Responsive rendering of Chirpy theme on multiple devices.
---





> è¯¥æ•™ç¨‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯æ­å»ºMJä»£ç†æœåŠ¡å™¨ï¼Œ å¦ä¸€éƒ¨åˆ†æ˜¯æ­å»ºå¾®ä¿¡æœºå™¨äºº



## MidJourneyä»£ç†æœåŠ¡å™¨

githubä»“åº“ï¼š

```jsx
https://github.com/novicezk/midjourney-proxy
```

<aside>
ğŸ’¡ å†…å®¹ï¼š ä»£ç† MidJourney çš„discordé¢‘é“ï¼Œå®ç°apiå½¢å¼è°ƒç”¨AIç»˜å›¾

</aside>

**ä½¿ç”¨å‰æ:**

1. æ³¨å†Œ MidJourneyï¼Œåˆ›å»ºè‡ªå·±çš„é¢‘é“ï¼Œå‚è€ƒÂ [https://docs.midjourney.com/docs/quick-start](https://docs.midjourney.com/docs/quick-start)
2. è·å–ç”¨æˆ·Tokenã€æœåŠ¡å™¨IDã€é¢‘é“IDï¼š[è·å–æ–¹å¼](https://github.com/novicezk/midjourney-proxy/blob/main/docs/discord-params.md)
   - mj.discord.guild-idï¼šdiscordæœåŠ¡å™¨ID
   - mj.discord.channel-idï¼šdiscordé¢‘é“ID
   - mj.discord.user-tokenï¼šdiscordç”¨æˆ·Token
3. ä¸€å°å›½å¤–æœåŠ¡å™¨ï¼ˆå›½å†…ä¹Ÿè¡Œï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰





**æ“ä½œæµç¨‹ï¼š**

- ä¸‹è½½é•œåƒï¼ˆå¦‚æœæœåŠ¡å™¨ä¸å¯ä»¥è¿æ¥å¤–ç½‘ï¼Œå¯èƒ½ä¼šå¤±è´¥ï¼Œè¯·ç”¨å‹ç¼©åŒ…çš„å½¢å¼åŠ è½½é•œåƒï¼‰ï¼š

```bash
docker pull novicezk/midjourney-proxy:2.3
```

- å¯åŠ¨å®¹å™¨ï¼š

```bash
# æ¨¡æ¿
# xxxä¸­å¡«å†™è‡ªå·±çš„ä¿¡æ¯
docker run -d --name midjourney-proxy \
 -p 8080:8080 \
 -e mj.discord.guild-id=xxx \
 -e mj.discord.channel-id=xxx \
 -e mj.discord.user-token=xxx \
 --restart=always \
 novicezk/midjourney-proxy:2.3

# å¦‚æœMJä»£ç†å’Œå¾®ä¿¡æœºå™¨äººéƒ½åœ¨ä¸€å°æœåŠ¡å™¨ï¼Œåˆ™ä¸éœ€è¦è®¾ç½®å›è°ƒåœ°å€
docker run -d --name midjourney-proxy \
 -p 8080:8080 \
 -e mj.discord.guild-id=1118085406467047456 \
 -e mj.discord.channel-id=1119965346074472478 \
 -e mj.discord.user-token=MTExNzc3MTA4NzE3NDk1OTExNg.GA0FuH.CPMJp7ZhigApKMslHGVOXVsoRei5iW99r8NwZI \
 --restart=always \
 novicezk/midjourney-proxy:2.3

# å¦‚æœMJä»£ç†å’Œå¾®ä¿¡æœºå™¨äººä¸åœ¨ä¸€å°æœåŠ¡å™¨ï¼Œåˆ™éœ€è¦è®¾ç½®å›è°ƒåœ°å€
# mj.notify-hook=å¾®ä¿¡æœºå™¨äººæœåŠ¡å™¨ip:4120
docker run -d --name midjourney-proxy \
 -p 8080:8080 \
 -e mj.discord.guild-id=1118085406467047456 \
 -e mj.discord.channel-id=1119965346074472478 \
 -e mj.discord.user-token=MTExNzc3MTA4NzE3NDk1OTExNg.GA0FuH.CPMJp7ZhigApKMslHGVOXVsoRei5iW99r8NwZI \
 -e mj.notify-hook=47.115.206.2:4120\
 --restart=always \
 novicezk/midjourney-proxy:2.3
```

â€‹	æ›´å¤šé…ç½®ä¿¡æ¯ï¼š[https://github.com/novicezk/midjourney-proxy/wiki/é…ç½®é¡¹](https://github.com/novicezk/midjourney-proxy/wiki/%E9%85%8D%E7%BD%AE%E9%A1%B9)

- æŸ¥çœ‹æ¥å£ï¼šæµè§ˆå™¨è¾“å…¥ [http://ip](http://ip/):port/mj ï¼ˆå¡«å†™MJä»£ç†æœåŠ¡å™¨çš„ipå’Œport)

â€‹		ä¾‹å¦‚ï¼šå¦‚æœæœåŠ¡å™¨åœ¨æœ¬åœ°åº”ä¸º  [http://localhost:8080/mj/](http://localhost:8080/mj/)



# wechat-midjourneyå¾®ä¿¡æœºå™¨äºº

åŸºäºÂ [wechaty](https://github.com/wechaty/wechaty)Â ä»£ç†å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œæ¥å…¥ MidJourneyã€‚

<aside>
ğŸ’¡ ***å¾®ä¿¡ä»£ç†æœ‰é£é™©ï¼Œä½¿ç”¨éœ€è°¨æ…***

</aside>

## æ³¨æ„äº‹é¡¹

- ä¾èµ–Â [midjourney-proxy](https://github.com/novicezk/midjourney-proxy)Â æä¾›çš„apiæ¥å£
- éœ€è¦ä½¿ç”¨Docker
- éœ€è¦ä¸€å°å›½å¤–æœåŠ¡å™¨ï¼ˆå›½å†…ä¹Ÿè¡Œï¼Œéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰



**å…·ä½“æ“ä½œï¼š**

- ä¸‹è½½é•œåƒï¼ˆå¦‚æœæœåŠ¡å™¨ä¸å¯ä»¥è¿æ¥å¤–ç½‘ï¼Œå¯èƒ½ä¼šå¤±è´¥ï¼Œè¯·ç”¨å‹ç¼©åŒ…çš„å½¢å¼åŠ è½½é•œåƒï¼‰ï¼š

```bash
docker pull novicezk/wechat-midjourney:2.0.2
```

- å¯åŠ¨å®¹å™¨

```bash
# å¦‚æœMJä»£ç†å’Œå¾®ä¿¡æœºå™¨äººéƒ½åœ¨ä¸€å°æœåŠ¡å™¨
docker run -d --name wechat-midjourney \
 -p 4120:4120 \
 -e MJ_PROXY_ENDPOINT=http://172.17.0.1:8080/mj \
 -e MJ_NOFIFY_HOOK=http://172.17.0.1:4120/notify \
 --restart=always \
 novicezk/wechat-midjourney:2.0.2

# å¦‚æœMJä»£ç†å’Œå¾®ä¿¡æœºå™¨äººä¸åœ¨ä¸€å°æœåŠ¡å™¨ï¼Œåˆ™éœ€è¦è®¾ç½®å›è°ƒåœ°å€
# MJ_PROXY_ENDPOINT=http://MJä»£ç†æœåŠ¡å™¨ip:8080/mj
# MJ_NOFIFY_HOOK=http://è‡ªå·±æœåŠ¡å™¨ip:4120/notify \
# TODO :ä½†æ˜¯è¿™æ ·é…ç½®ï¼Œä¼¼ä¹å¾®ä¿¡å¯ä»¥è¿”å›ç”Ÿæˆå›¾ç‰‡æˆåŠŸçš„ä¿¡æ¯ï¼Œä½†æ˜¯ä¸è¿”å›å›¾ç‰‡,ç¬”è€…å«Œéº»çƒ¦å°±è·³è¿‡äº†æ²¡è§£å†³
docker run -d --name wechat-midjourney \
 -p 4120:4120 \
 -e MJ_PROXY_ENDPOINT=http://172.245.57.219:8080/mj \
 -e MJ_NOFIFY_HOOK=http://47.115.206.2:4120/notify \
 --restart=always \
 novicezk/wechat-midjourney:2.0.2
```

- æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼Œå¾®ä¿¡æ‰«æäºŒç»´ç ï¼Œè‹¥äºŒç»´ç æ— æ³•æ‰«ç ï¼Œå¤åˆ¶äºŒç»´ç é“¾æ¥æµè§ˆå™¨æ‰“å¼€æ‰«ç 

```bash
docker logs -f -n 200 wechat-midjourney

# æˆ–è€…
docker logs -f  wechat-midjourney
```

- æ‰«ç ç”¨æˆ·æ‰€åœ¨çš„å¾®ä¿¡ç¾¤å†…ï¼Œå‘é€/helpå³å¯è·å–ä½¿ç”¨å¸®åŠ©ï¼Œè¿”å›ä¸€å¤§æ®µæŒ‡å—ï¼Œè¯´æ˜å¾®ä¿¡æœºå™¨äººæ­å»ºæˆåŠŸ

![Untitled](assets/Untitled.png)

â€‹	æ­¤æ—¶å¦‚æœå’ŒMJä»£ç†å¯¹æ¥å¥½ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼š

â€‹		<img src="assets/image-20230621094731376.png" alt="image-20230621094731376" style="zoom:50%;" />







